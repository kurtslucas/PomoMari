<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro da Mari üíú</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíú</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #8A2BE2 0%, #9370DB 50%, #BA55D3 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(138, 43, 226, 0.3);
            text-align: center;
            max-width: 400px;
            width: 100%;
            border: 2px solid #E6E6FA;
        }

        h1 {
            color: #8A2BE2;
            margin-bottom: 10px;
            font-size: 2.2em;
        }

        .subtitle {
            color: #9370DB;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .timer {
            font-size: 5em;
            font-weight: bold;
            color: #4B0082;
            margin: 30px 0;
            font-family: 'Courier New', monospace;
            text-shadow: 2px 2px 4px rgba(138, 43, 226, 0.1);
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #8A2BE2;
            color: white;
        }

        #startBtn {
            background: #6A0DAD;
        }

        #pauseBtn {
            background: #9370DB;
        }

        #resetBtn {
            background: #BA55D3;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: #E6E6FA;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #8A2BE2, #BA55D3);
            width: 0%;
            transition: width 1s linear;
        }

        .phase {
            font-size: 1.2em;
            color: #666;
            margin-top: 20px;
            font-weight: 500;
        }

        .flower {
            font-size: 2em;
            margin: 10px 0;
            animation: float 3s ease-in-out infinite;
            color: #8A2BE2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .message {
            margin-top: 20px;
            padding: 15px;
            background: #F3E8FF;
            border-radius: 10px;
            color: #6A0DAD;
            font-weight: 500;
            border: 1px solid #E6E6FA;
        }

        /* Estados das fases - sempre roxo, mas com pequenas varia√ß√µes */
        .work-phase {
            background: linear-gradient(135deg, #8A2BE2 0%, #9370DB 50%, #BA55D3 100%);
        }

        .break-phase {
            background: linear-gradient(135deg, #9370DB 0%, #BA55D3 50%, #D8BFD8 100%);
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }
            
            .timer {
                font-size: 4em;
            }
            
            button {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Pomodoro da Mari üíú</h1>
        <div class="subtitle">Foco, produtividade e pausas estrat√©gicas!</div>
        
        <div class="flower">üå∫</div>
        
        <div class="timer" id="timer">25:00</div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="phase" id="phase">Tempo de Foco</div>
        
        <div class="controls">
            <button id="startBtn">‚ñ∂ Iniciar</button>
            <button id="pauseBtn" disabled>‚è∏ Pausar</button>
            <button id="resetBtn">‚èπ Reiniciar</button>
        </div>
        
        <div class="message" id="message">
            üíú Feito com carinho para a Mari que ama roxinho!
        </div>
    </div>

    <script>
        class PomodoroTimer {
            constructor() {
                this.workTime = 25 * 60; // 25 minutos em segundos
                this.breakTime = 5 * 60; // 5 minutos em segundos
                this.longBreakTime = 15 * 60; // 15 minutos em segundos
                this.timeLeft = this.workTime;
                this.isRunning = false;
                this.isWorkPhase = true;
                this.sessionCount = 0;
                this.intervalId = null;

                this.timerElement = document.getElementById('timer');
                this.progressBar = document.getElementById('progressBar');
                this.phaseElement = document.getElementById('phase');
                this.messageElement = document.getElementById('message');
                this.startBtn = document.getElementById('startBtn');
                this.pauseBtn = document.getElementById('pauseBtn');
                this.resetBtn = document.getElementById('resetBtn');
                this.body = document.body;

                this.bindEvents();
                this.updateDisplay();
            }

            bindEvents() {
                this.startBtn.addEventListener('click', () => this.start());
                this.pauseBtn.addEventListener('click', () => this.pause());
                this.resetBtn.addEventListener('click', () => this.reset());
            }

            start() {
                if (!this.isRunning) {
                    this.isRunning = true;
                    this.startBtn.disabled = true;
                    this.pauseBtn.disabled = false;
                    
                    this.intervalId = setInterval(() => {
                        this.timeLeft--;
                        this.updateDisplay();
                        
                        if (this.timeLeft <= 0) {
                            this.completePhase();
                        }
                    }, 1000);
                }
            }

            pause() {
                if (this.isRunning) {
                    this.isRunning = false;
                    this.startBtn.disabled = false;
                    this.pauseBtn.disabled = true;
                    clearInterval(this.intervalId);
                }
            }

            reset() {
                this.pause();
                this.isWorkPhase = true;
                this.sessionCount = 0;
                this.timeLeft = this.workTime;
                this.updateDisplay();
                this.showMessage("üíú Feito com carinho para a Mari que ama roxinho!");
            }

            completePhase() {
                this.pause();
                
                if (this.isWorkPhase) {
                    this.sessionCount++;
                    this.isWorkPhase = false;
                    
                    if (this.sessionCount % 4 === 0) {
                        this.timeLeft = this.longBreakTime;
                        this.showMessage("üéâ 4 sess√µes completas! Hora de uma pausa longa!");
                    } else {
                        this.timeLeft = this.breakTime;
                        this.showMessage("‚òï Pausa para descansar! Voc√™ merece!");
                    }
                } else {
                    this.isWorkPhase = true;
                    this.timeLeft = this.workTime;
                    this.showMessage("üí™ Hora de focar! Voc√™ consegue!");
                }
                
                this.updateDisplay();
                this.playNotificationSound();
            }

            playNotificationSound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 800;
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 1);
                } catch (e) {
                    console.log("√Åudio n√£o suportado");
                }
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                this.timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const totalTime = this.isWorkPhase ? this.workTime : 
                                (this.sessionCount % 4 === 0 ? this.longBreakTime : this.breakTime);
                const progress = ((totalTime - this.timeLeft) / totalTime) * 100;
                this.progressBar.style.width = `${progress}%`;
                
                this.phaseElement.textContent = this.isWorkPhase ? 
                    `Tempo de Foco - Sess√£o ${this.sessionCount + 1}` : 
                    (this.sessionCount % 4 === 0 ? 'Pausa Longa' : 'Pausa Curta');
                
                // Agora sempre roxo, mas com pequenas varia√ß√µes sutis
                if (this.isWorkPhase) {
                    this.body.className = 'work-phase';
                } else {
                    this.body.className = 'break-phase';
                }
            }

            showMessage(text) {
                this.messageElement.textContent = text;
                this.messageElement.style.opacity = '1';
                
                setTimeout(() => {
                    this.messageElement.style.opacity = '0.7';
                }, 3000);
            }
        }

        // Inicializar o timer quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', () => {
            new PomodoroTimer();
        });
    </script>
</body>
</html>